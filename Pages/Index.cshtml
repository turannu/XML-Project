@page
@using SipsBites
@model IndexModel
@{
    ViewData["Title"] = "Sips and Bites Navigator";
    var brand = ViewData["Brand"];
    List<Brewery> breweries = (List<Brewery>)ViewData["Breweries"];
}

<div class="text-center">
    <div class="header">
        <h1 class="display-4">Welcome to @brand</h1>
        <h2>Enjoy Best Food and Drinks in USA</h2>
        <ul class="inline-list">
            <li>Search Brewery Names </li>
            <li>Search Brewery brewery_type</li>
        </ul>
    </div>

    <form method="get" action="/Search" class="mb-4">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="state" class="form-label">State</label>
                <input type="text"
                       class="form-control"
                       id="state"
                       name="State"
                       placeholder="Enter state name (e.g. California)">
            </div>
            <div class="col-md-6 mb-3">
                <label for="breweryType" class="form-label">Brewery Type</label>
                <select class="form-select" id="breweryType" name="BreweryType">
                    <option value="">Select type</option>
                    <option value="micro">Micro</option>
                    <option value="nano">Nano</option>
                    <option value="regional">Regional</option>
                    <option value="brewpub">Brewpub</option>
                    <option value="large">Large</option>
                    <option value="planning">Planning</option>
                    <option value="bar">Bar</option>
                    <option value="contract">Contract</option>
                    <option value="proprietor">Proprietor</option>
                    <option value="closed">Closed</option>
                </select>
            </div>
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-primary">Search</button>
        </div>
    </form>



    <div>
        <table role="table" class="table table-striped">
            <caption>List of Breweries</caption>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Brewery Type</th>
                    <th scope="col">State</th>
                    <th scope="col">Street</th>
                </tr>
            </thead>
            @if (breweries != null && breweries.Any())
            {
            <tbody>
                @{
                    foreach (Brewery brewery in breweries)
                    {
                        <tr>
                            <td>@brewery.Name</td>
                            <td>@brewery.BreweryType</td>
                            <td>@brewery.StateProvince</td>
                            <td>@brewery.Address1</td>
                        </tr>
                    }
                }
            </tbody>
            }
            else
            {
                <p>No breweries available to display.</p>
            }
        </table>
    </div>
</div>